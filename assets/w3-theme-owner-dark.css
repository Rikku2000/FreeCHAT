:root {
  --bg-0: #0d0f12;
  --bg-1: #131720;
  --bg-2: #171b24;
  --elev-1: #131720;
  --elev-2: #242b3a;
  --muted: #a7b0c0;
  --text: #e8ecf1;
  --text-dim: #cdd5e0;
  --border: #2f3644;
  --accent: #242b3a;
  --accent-2: #ffb547;
  --success: #22c55e;
  --danger: #ef4444;
  --warning: #f59e0b;
  --info: #60a5fa;
  --shadow: 0 10px 30px rgba(0,0,0,.45);
}

html, body, h1, h2, h3, h4, h5 { font-family: "Raleway", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
html, body { background: var(--bg-0); color: var(--text); }
* { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: var(--border); border-radius: 999px; }
*::-webkit-scrollbar-thumb:hover { background: #3b4455; }
html { scrollbar-color: var(--border) transparent; scrollbar-width: thin; }

.w3-theme-white { background: var(--bg-0) !important; color: var(--text) !important; }
.w3-theme { background: var(--accent) !important; var(--text) !important; }
.w3-text-theme { color: var(--text) !important; }
.w3-border-theme, .w3-border-theme-light, .w3-border-theme-dark { border-color: var(--border) !important; }

.w3-bar.w3-top { background: rgba(19, 23, 32, .85) !important; backdrop-filter: blur(8px); border-bottom: 1px solid var(--border); }
.w3-sidebar { background: linear-gradient(180deg, var(--bg-1), var(--bg-0)) !important; border-right: 1px solid var(--border); box-shadow: var(--shadow); }
.w3-main { background: var(--bg-0); }

.w3-card, .w3-panel, .w3-container, .w3-box, .w3-table-scroll, .w3-chatbox {
  background: var(--bg-1) !important;
}

.w3-box, .w3-lable { padding: 4px 4px !important; }

.w3-table-scroll::-webkit-scrollbar { display: none; }
.w3-table-scroll { overflow: scroll; -ms-overflow-style: none; scrollbar-width: none; }
.w3-table-scroll, .w3-chatbox { padding: 8px 8px !important; }

#activity {
  margin: 4px !important;
}

.w3-button, button, .w3-btn {
  background: var(--elev-1) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 12px !important;
  transition: transform .08s ease, background .15s ease, border-color .15s ease;
}
.w3-button:hover, button:hover, .w3-btn:hover {
  background: var(--elev-2) !important;
  color: var(--text) !important;
  text-decoration: none;
  font-weight: bold;
  transform: translateY(-1px);
}
.w3-button .w3-theme, .w3-theme .w3-button {
  color: var(--text) !important;
  border-color: transparent !important;
}
.w3-button.w3-theme:hover { filter: brightness(1.05); }

.w3-input, .w3-input-theme, input[type="text"], input[type="password"], input[type="email"], textarea, select {
  background: var(--bg-2) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 12px !important;
  outline: none !important;
  transition: border-color .15s ease, box-shadow .15s ease;
  padding: 8px 10px !important;
}
.w3-input:focus, .w3-input-theme:focus, textarea:focus, select:focus, input:focus {
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 35%, transparent);
}
.w3-select-theme { padding: 8px 10px !important; }

table, .w3-table { border-collapse: separate !important; border-spacing: 0 !important; }
.w3-table th { background: var(--muted); color: var(--text-dim); border-bottom: 1px solid var(--border); }
.w3-table td { border-top: 1px solid var(--border); }
.w3-striped tbody tr:nth-child(even) { background: rgba(255,255,255,.02) !important; }
.w3-hoverable tbody tr:hover { background: rgba(255,255,255,.04) !important; }

a, .w3-link { color: var(--muted); text-decoration: none; }
a:hover, .w3-link:hover { color: var(--text) !important; text-decoration: none; font-weight: bold; }

.w3-badge, .w3-tag { background: var(--elev-2) !important; color: var(--text) !important; border: 1px solid var(--border) !important; }
.w3-badge.w3-theme, .w3-tag.w3-theme { background: var(--muted) !important; color: #0b0b0b !important; border-color: transparent !important; }

.w3-pale-green, .w3-success { background: color-mix(in oklab, var(--success) 20%, var(--bg-1)) !important; color: var(--text); border: 1px solid color-mix(in oklab, var(--success) 40%, var(--border)) !important; }
.w3-pale-red, .w3-danger   { background: color-mix(in oklab, var(--danger) 20%, var(--bg-1)) !important;  color: var(--text); border: 1px solid color-mix(in oklab, var(--danger) 40%, var(--border)) !important; }
.w3-pale-yellow, .w3-warning{ background: color-mix(in oklab, var(--warning) 20%, var(--bg-1)) !important; color: var(--text); border: 1px solid color-mix(in oklab, var(--warning) 40%, var(--border)) !important; }
.w3-pale-blue, .w3-info    { background: color-mix(in oklab, var(--info) 20%, var(--bg-1)) !important;     color: var(--text); border: 1px solid color-mix(in oklab, var(--info) 40%, var(--border)) !important; }

.w3-chatcontainer {
  width: calc(100% - 300px);
  padding: 10px 14px;
  border-top: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(13,15,18,.4), rgba(13,15,18,.85));
}
@media (max-width: 999px) {
  .w3-chatcontainer { width: 100%; }
}

.w3-chatfield {
  height: calc(100% - 90px);
  background: var(--bg-1) !important;
  border-radius: 14px !important;
  border: 1px solid var(--border) !important;
  padding: 8px 8px !important;
}
@media (max-width: 999px) {
  .w3-chatfield { height: calc(100% - 110px); }
}

.w3-msg { display: flex; gap: 10px; align-items: flex-start; margin: 6px 4px; }
.w3-msg-bubble {
  max-width: min(720px, 92%);
  background: var(--elev-1);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 12px;
  line-height: 1.45;
  color: var(--text);
  box-shadow: var(--shadow);
}
.w3-msg-me { display: flex; gap: 10px; align-items: flex-start; margin: 6px 4px; }
.w3-msg-me-bubble {
  max-width: min(720px, 92%);
  background: var(--elev-2);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 12px;
  line-height: 1.45;
  color: var(--text);
  box-shadow: var(--shadow);
}
.w3-msg .meta { font-size: 11px; color: var(--muted); margin-top: 4px; }

.w3-private-chat { position: fixed; bottom: 0; right: 20px; width: 300px; height: 400px; display: flex; flex-direction: column; z-index: 1000; margin-left: 10px; }
.w3-private-messages { flex: 1; overflow-y: auto; padding: 10px; overflow-wrap: break-word; }
.w3-private-input { display: flex; }

#typingIndicator { color: var(--muted) !important; opacity: .85; }

img.w3-image { vertical-align: middle; image-rendering: -webkit-optimize-contrast; }

.chat-input-row { display: grid; grid-template-columns: auto 1fr auto auto; gap: 8px; align-items: center; }

.w3-chatfield.drag-over { outline: 2px dashed var(--accent); outline-offset: -6px; background: color-mix(in oklab, var(--accent) 7%, var(--bg-1)); }

.w3-invite { background: rgba(0, 0, 0, 0.6); display: none; backdrop-filter: blur(6px); position: fixed; left: 0; top: 0; width: 100%; height: 100%; justify-content: center; align-items: center; z-index: 2000; }
.w3-modal, .w3-modal-content { background: var(--bg-1) !important; border: 1px solid var(--border) !important; border-radius: 16px !important; }

:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; border-radius: 8px; }

.w3-sidebar, .w3-main, .w3-card, .w3-panel, .w3-container, .w3-table-scroll, .w3-chatbox, .w3-chatfield, .w3-bar, .wn, .w3-input, .w3-input-theme {
  transition: background .15s ease, color .15s ease, border-color .15s ease, box-shadow .2s ease;
}
